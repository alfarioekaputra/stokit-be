import{R as $,r as ve,j as F,u as Ct,a as Lt,z as ke}from"./index-Dy_4NyNp.js";import{P as Ot,I as Ke,t as Ye}from"./index-BtWB-b0K.js";import{c as se,a as Tt,B as jt}from"./createLucideIcon-CiHmOtUY.js";var fe=e=>e.type==="checkbox",re=e=>e instanceof Date,R=e=>e==null;const dt=e=>typeof e=="object";var S=e=>!R(e)&&!Array.isArray(e)&&dt(e)&&!re(e),Rt=e=>S(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Mt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ut=(e,r)=>e.has(Mt(r)),Pt=e=>{const r=e.constructor&&e.constructor.prototype;return S(r)&&r.hasOwnProperty("isPrototypeOf")},Ce=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ce&&(e instanceof Blob||i))&&(t||S(e)))if(r=t?[]:{},!t&&!Pt(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=T(e[o]));else return e;return r}var _e=e=>Array.isArray(e)?e.filter(Boolean):[],N=e=>e===void 0,h=(e,r,t)=>{if(!r||!S(e))return t;const i=_e(r.split(/[,[\].]+?/)).reduce((o,n)=>R(o)?o:o[n],e);return N(i)||i===e?N(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",Le=e=>/^\w*$/.test(e),ct=e=>_e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,t)=>{let i=-1;const o=Le(r)?[r]:ct(r),n=o.length,d=n-1;for(;++i<n;){const f=o[i];let A=t;if(i!==d){const k=e[f];A=S(k)||Array.isArray(k)?k:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=A,e=e[f]}};const Je={BLUR:"blur",FOCUS_OUT:"focusout"},I={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var It=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const d=n;return r._proxyFormState[d]!==I.all&&(r._proxyFormState[d]=!i||I.all),e[d]}});return o};const Bt=typeof window<"u"?ve.useLayoutEffect:ve.useEffect;var z=e=>typeof e=="string",qt=(e,r,t,i,o)=>z(e)?(i&&r.watch.add(e),h(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),h(t,n))):(i&&(r.watchAll=!0),t),ft=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},de=e=>Array.isArray(e)?e:[e],Qe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Ne=e=>R(e)||!dt(e);function ee(e,r){if(Ne(e)||Ne(r))return e===r;if(re(e)&&re(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const d=r[o];if(re(n)&&re(d)||S(n)&&S(d)||Array.isArray(n)&&Array.isArray(d)?!ee(n,d):n!==d)return!1}}return!0}var j=e=>S(e)&&!Object.keys(e).length,Oe=e=>e.type==="file",B=e=>typeof e=="function",me=e=>{if(!Ce)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Te=e=>e.type==="radio",Wt=e=>Te(e)||fe(e),pe=e=>me(e)&&e.isConnected;function $t(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=N(e)?i++:e[r[i++]];return e}function Ht(e){for(const r in e)if(e.hasOwnProperty(r)&&!N(e[r]))return!1;return!0}function C(e,r){const t=Array.isArray(r)?r:Le(r)?[r]:ct(r),i=t.length===1?e:$t(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(S(i)&&j(i)||Array.isArray(i)&&Ht(i))&&C(e,t.slice(0,-1)),e}var ht=e=>{for(const r in e)if(B(e[r]))return!0;return!1};function be(e,r={}){const t=Array.isArray(e);if(S(e)||t)for(const i in e)Array.isArray(e[i])||S(e[i])&&!ht(e[i])?(r[i]=Array.isArray(e[i])?[]:{},be(e[i],r[i])):R(e[i])||(r[i]=!0);return r}function gt(e,r,t){const i=Array.isArray(e);if(S(e)||i)for(const o in e)Array.isArray(e[o])||S(e[o])&&!ht(e[o])?N(r)||Ne(t[o])?t[o]=Array.isArray(e[o])?be(e[o],[]):{...be(e[o])}:gt(e[o],R(r)?{}:r[o],t[o]):t[o]=!ee(e[o],r[o]);return t}var oe=(e,r)=>gt(e,r,be(r));const Xe={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Xe}return Xe},mt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>N(e)?e:r?e===""?NaN:e&&+e:t&&z(e)?new Date(e):i?i(e):e;const Ge={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ge):Ge;function et(e){const r=e.ref;return Oe(r)?r.files:Te(r)?bt(e.refs).value:yt(r)?[...r.selectedOptions].map(({value:t})=>t):fe(r)?vt(e.refs).value:mt(N(r.value)?e.ref.value:r.value,e)}var zt=(e,r,t,i)=>{const o={};for(const n of e){const d=h(r,n);d&&V(o,n,d._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},xe=e=>e instanceof RegExp,ue=e=>N(e)?e:xe(e)?e.source:S(e)?xe(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===I.onSubmit,isOnBlur:e===I.onBlur,isOnChange:e===I.onChange,isOnAll:e===I.all,isOnTouch:e===I.onTouched});const rt="AsyncFunction";var Kt=e=>!!e&&!!e.validate&&!!(B(e.validate)&&e.validate.constructor.name===rt||S(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rt)),Yt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=h(e,o);if(n){const{_f:d,...f}=n;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],o)&&!i)return!0;if(d.ref&&r(d.ref,d.name)&&!i)return!0;if(ce(f,r))break}else if(S(f)&&ce(f,r))break}}};function it(e,r,t){const i=h(e,t);if(i||Le(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),d=h(r,n),f=h(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(f&&f.type)return{name:n,error:f};o.pop()}return{name:t}}var Jt=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return j(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(d=>r[d]===(!i||I.all))},Qt=(e,r,t)=>!e||!r||e===r||de(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Xt=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,Zt=(e,r)=>!_e(h(e,r)).length&&C(e,r),Gt=(e,r,t)=>{const i=de(h(e,t));return V(i,"root",r[t]),V(e,t,i),e},ge=e=>z(e);function at(e,r,t="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||H(e)&&!e)return{type:t,message:ge(e)?e:"",ref:r}}var ie=e=>S(e)&&!xe(e)?e:{value:e,message:""},nt=async(e,r,t,i,o,n)=>{const{ref:d,refs:f,required:A,maxLength:k,minLength:w,min:D,max:m,pattern:ye,validate:Z,name:M,valueAsNumber:Ve,mount:K}=e._f,v=h(t,M);if(!K||r.has(M))return{};const Y=f?f[0]:d,J=_=>{o&&Y.reportValidity&&(Y.setCustomValidity(H(_)?"":_||""),Y.reportValidity())},L={},ae=Te(d),ne=fe(d),we=ae||ne,q=(Ve||Oe(d))&&N(d.value)&&N(v)||me(d)&&d.value===""||v===""||Array.isArray(v)&&!v.length,te=ft.bind(null,M,i,L),Q=(_,b,E,U=X.maxLength,P=X.minLength)=>{const W=_?b:E;L[M]={type:_?U:P,message:W,ref:d,...te(_?U:P,W)}};if(n?!Array.isArray(v)||!v.length:A&&(!we&&(q||R(v))||H(v)&&!v||ne&&!vt(f).isValid||ae&&!bt(f).isValid)){const{value:_,message:b}=ge(A)?{value:!!A,message:A}:ie(A);if(_&&(L[M]={type:X.required,message:b,ref:Y,...te(X.required,b)},!i))return J(b),L}if(!q&&(!R(D)||!R(m))){let _,b;const E=ie(m),U=ie(D);if(!R(v)&&!isNaN(v)){const P=d.valueAsNumber||v&&+v;R(E.value)||(_=P>E.value),R(U.value)||(b=P<U.value)}else{const P=d.valueAsDate||new Date(v),W=he=>new Date(new Date().toDateString()+" "+he),G=d.type=="time",le=d.type=="week";z(E.value)&&v&&(_=G?W(v)>W(E.value):le?v>E.value:P>new Date(E.value)),z(U.value)&&v&&(b=G?W(v)<W(U.value):le?v<U.value:P<new Date(U.value))}if((_||b)&&(Q(!!_,E.message,U.message,X.max,X.min),!i))return J(L[M].message),L}if((k||w)&&!q&&(z(v)||n&&Array.isArray(v))){const _=ie(k),b=ie(w),E=!R(_.value)&&v.length>+_.value,U=!R(b.value)&&v.length<+b.value;if((E||U)&&(Q(E,_.message,b.message),!i))return J(L[M].message),L}if(ye&&!q&&z(v)){const{value:_,message:b}=ie(ye);if(xe(_)&&!v.match(_)&&(L[M]={type:X.pattern,message:b,ref:d,...te(X.pattern,b)},!i))return J(b),L}if(Z){if(B(Z)){const _=await Z(v,t),b=at(_,Y);if(b&&(L[M]={...b,...te(X.validate,b.message)},!i))return J(b.message),L}else if(S(Z)){let _={};for(const b in Z){if(!j(_)&&!i)break;const E=at(await Z[b](v,t),Y,b);E&&(_={...E,...te(b,E.message)},J(E.message),i&&(L[M]=_))}if(!j(_)&&(L[M]={ref:Y,..._},!i))return L}}return J(!0),L};const er={mode:I.onSubmit,reValidateMode:I.onChange,shouldFocusError:!0};function tr(e={}){let r={...er,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:B(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let o=S(r.defaultValues)||S(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,k=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let D={...w};const m={array:Qe(),state:Qe()},ye=tt(r.mode),Z=tt(r.reValidateMode),M=r.criteriaMode===I.all,Ve=s=>a=>{clearTimeout(k),k=setTimeout(s,a)},K=async s=>{if(!r.disabled&&(w.isValid||D.isValid||s)){const a=r.resolver?j((await q()).errors):await Q(i,!0);a!==t.isValid&&m.state.next({isValid:a})}},v=(s,a)=>{!r.disabled&&(w.isValidating||w.validatingFields||D.isValidating||D.validatingFields)&&((s||Array.from(f.mount)).forEach(l=>{l&&(a?V(t.validatingFields,l,a):C(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!j(t.validatingFields)}))},Y=(s,a=[],l,y,c=!0,u=!0)=>{if(y&&l&&!r.disabled){if(d.action=!0,u&&Array.isArray(h(i,s))){const g=l(h(i,s),y.argA,y.argB);c&&V(i,s,g)}if(u&&Array.isArray(h(t.errors,s))){const g=l(h(t.errors,s),y.argA,y.argB);c&&V(t.errors,s,g),Zt(t.errors,s)}if((w.touchedFields||D.touchedFields)&&u&&Array.isArray(h(t.touchedFields,s))){const g=l(h(t.touchedFields,s),y.argA,y.argB);c&&V(t.touchedFields,s,g)}(w.dirtyFields||D.dirtyFields)&&(t.dirtyFields=oe(o,n)),m.state.next({name:s,isDirty:b(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(n,s,a)},J=(s,a)=>{V(t.errors,s,a),m.state.next({errors:t.errors})},L=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},ae=(s,a,l,y)=>{const c=h(i,s);if(c){const u=h(n,s,N(l)?h(o,s):l);N(u)||y&&y.defaultChecked||a?V(n,s,a?u:et(c._f)):P(s,u),d.mount&&K()}},ne=(s,a,l,y,c)=>{let u=!1,g=!1;const x={name:s};if(!r.disabled){if(!l||y){(w.isDirty||D.isDirty)&&(g=t.isDirty,t.isDirty=x.isDirty=b(),u=g!==x.isDirty);const p=ee(h(o,s),a);g=!!h(t.dirtyFields,s),p?C(t.dirtyFields,s):V(t.dirtyFields,s,!0),x.dirtyFields=t.dirtyFields,u=u||(w.dirtyFields||D.dirtyFields)&&g!==!p}if(l){const p=h(t.touchedFields,s);p||(V(t.touchedFields,s,l),x.touchedFields=t.touchedFields,u=u||(w.touchedFields||D.touchedFields)&&p!==l)}u&&c&&m.state.next(x)}return u?x:{}},we=(s,a,l,y)=>{const c=h(t.errors,s),u=(w.isValid||D.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(A=Ve(()=>J(s,l)),A(r.delayError)):(clearTimeout(k),A=null,l?V(t.errors,s,l):C(t.errors,s)),(l?!ee(c,l):c)||!j(y)||u){const g={...y,...u&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},m.state.next(g)}},q=async s=>{v(s,!0);const a=await r.resolver(n,r.context,zt(s||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return v(s),a},te=async s=>{const{errors:a}=await q(s);if(s)for(const l of s){const y=h(a,l);y?V(t.errors,l,y):C(t.errors,l)}else t.errors=a;return a},Q=async(s,a,l={valid:!0})=>{for(const y in s){const c=s[y];if(c){const{_f:u,...g}=c;if(u){const x=f.array.has(u.name),p=c._f&&Kt(c._f);p&&w.validatingFields&&v([y],!0);const O=await nt(c,f.disabled,n,M,r.shouldUseNativeValidation&&!a,x);if(p&&w.validatingFields&&v([y]),O[u.name]&&(l.valid=!1,a))break;!a&&(h(O,u.name)?x?Gt(t.errors,O,u.name):V(t.errors,u.name,O[u.name]):C(t.errors,u.name))}!j(g)&&await Q(g,a,l)}}return l.valid},_=()=>{for(const s of f.unMount){const a=h(i,s);a&&(a._f.refs?a._f.refs.every(l=>!pe(l)):!pe(a._f.ref))&&Ae(s)}f.unMount=new Set},b=(s,a)=>!r.disabled&&(s&&a&&V(n,s,a),!ee(je(),o)),E=(s,a,l)=>qt(s,f,{...d.mount?n:N(a)?o:z(s)?{[s]:a}:a},l,a),U=s=>_e(h(d.mount?n:o,s,r.shouldUnregister?h(o,s,[]):[])),P=(s,a,l={})=>{const y=h(i,s);let c=a;if(y){const u=y._f;u&&(!u.disabled&&V(n,s,mt(a,u)),c=me(u.ref)&&R(a)?"":a,yt(u.ref)?[...u.ref.options].forEach(g=>g.selected=c.includes(g.value)):u.refs?fe(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(x=>x===g.value):c===g.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(g=>g.checked=g.value===c):Oe(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||m.state.next({name:s,values:T(n)})))}(l.shouldDirty||l.shouldTouch)&&ne(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Fe(s)},W=(s,a,l)=>{for(const y in a){const c=a[y],u=`${s}.${y}`,g=h(i,u);(f.array.has(s)||S(c)||g&&!g._f)&&!re(c)?W(u,c,l):P(u,c,l)}},G=(s,a,l={})=>{const y=h(i,s),c=f.array.has(s),u=T(a);V(n,s,u),c?(m.array.next({name:s,values:T(n)}),(w.isDirty||w.dirtyFields||D.isDirty||D.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:oe(o,n),isDirty:b(s,u)})):y&&!y._f&&!R(u)?W(s,u,l):P(s,u,l),st(s,f)&&m.state.next({...t}),m.state.next({name:d.mount?s:void 0,values:T(n)})},le=async s=>{d.mount=!0;const a=s.target;let l=a.name,y=!0;const c=h(i,l),u=g=>{y=Number.isNaN(g)||re(g)&&isNaN(g.getTime())||ee(g,h(n,l,g))};if(c){let g,x;const p=a.type?et(c._f):Rt(s),O=s.type===Je.BLUR||s.type===Je.FOCUS_OUT,kt=!Yt(c._f)&&!r.resolver&&!h(t.errors,l)&&!c._f.deps||Xt(O,h(t.touchedFields,l),t.isSubmitted,Z,ye),Ee=st(l,f,O);V(n,l,p),O?(c._f.onBlur&&c._f.onBlur(s),A&&A(0)):c._f.onChange&&c._f.onChange(s);const Se=ne(l,p,O),pt=!j(Se)||Ee;if(!O&&m.state.next({name:l,type:s.type,values:T(n)}),kt)return(w.isValid||D.isValid)&&(r.mode==="onBlur"?O&&K():O||K()),pt&&m.state.next({name:l,...Ee?{}:Se});if(!O&&Ee&&m.state.next({...t}),r.resolver){const{errors:He}=await q([l]);if(u(p),y){const Nt=it(t.errors,i,l),ze=it(He,i,Nt.name||l);g=ze.error,l=ze.name,x=j(He)}}else v([l],!0),g=(await nt(c,f.disabled,n,M,r.shouldUseNativeValidation))[l],v([l]),u(p),y&&(g?x=!1:(w.isValid||D.isValid)&&(x=await Q(i,!0)));y&&(c._f.deps&&Fe(c._f.deps),we(l,x,g,Se))}},he=(s,a)=>{if(h(t.errors,a)&&s.focus)return s.focus(),1},Fe=async(s,a={})=>{let l,y;const c=de(s);if(r.resolver){const u=await te(N(s)?s:c);l=j(u),y=s?!c.some(g=>h(u,g)):l}else s?(y=(await Promise.all(c.map(async u=>{const g=h(i,u);return await Q(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&K()):y=l=await Q(i);return m.state.next({...!z(s)||(w.isValid||D.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&ce(i,he,s?c:f.mount),y},je=s=>{const a={...d.mount?n:o};return N(s)?a:z(s)?h(a,s):s.map(l=>h(a,l))},Re=(s,a)=>({invalid:!!h((a||t).errors,s),isDirty:!!h((a||t).dirtyFields,s),error:h((a||t).errors,s),isValidating:!!h(t.validatingFields,s),isTouched:!!h((a||t).touchedFields,s)}),Vt=s=>{s&&de(s).forEach(a=>C(t.errors,a)),m.state.next({errors:s?t.errors:{}})},Me=(s,a,l)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,c=h(t.errors,s)||{},{ref:u,message:g,type:x,...p}=c;V(t.errors,s,{...p,...a,ref:y}),m.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},wt=(s,a)=>B(s)?m.state.subscribe({next:l=>s(E(void 0,a),l)}):E(s,a,!0),Ue=s=>m.state.subscribe({next:a=>{Qt(s.name,a.name,s.exact)&&Jt(a,s.formState||w,St,s.reRenderRoot)&&s.callback({values:{...n},...t,...a})}}).unsubscribe,Ft=s=>(d.mount=!0,D={...D,...s.formState},Ue({...s,formState:D})),Ae=(s,a={})=>{for(const l of s?de(s):f.mount)f.mount.delete(l),f.array.delete(l),a.keepValue||(C(i,l),C(n,l)),!a.keepError&&C(t.errors,l),!a.keepDirty&&C(t.dirtyFields,l),!a.keepTouched&&C(t.touchedFields,l),!a.keepIsValidating&&C(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&C(o,l);m.state.next({values:T(n)}),m.state.next({...t,...a.keepDirty?{isDirty:b()}:{}}),!a.keepIsValid&&K()},Pe=({disabled:s,name:a})=>{(H(s)&&d.mount||s||f.disabled.has(a))&&(s?f.disabled.add(a):f.disabled.delete(a))},De=(s,a={})=>{let l=h(i,s);const y=H(a.disabled)||H(r.disabled);return V(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),f.mount.add(s),l?Pe({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):ae(s,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ue(a.min),max:ue(a.max),minLength:ue(a.minLength),maxLength:ue(a.maxLength),pattern:ue(a.pattern)}:{},name:s,onChange:le,onBlur:le,ref:c=>{if(c){De(s,a),l=h(i,s);const u=N(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Wt(u),x=l._f.refs||[];if(g?x.find(p=>p===u):u===l._f.ref)return;V(i,s,{_f:{...l._f,...g?{refs:[...x.filter(pe),u,...Array.isArray(h(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),ae(s,!1,void 0,u)}else l=h(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Ut(f.array,s)&&d.action)&&f.unMount.add(s)}}},Ie=()=>r.shouldFocusError&&ce(i,he,f.mount),At=s=>{H(s)&&(m.state.next({disabled:s}),ce(i,(a,l)=>{const y=h(i,l);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||s}))},0,!1))},Be=(s,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=T(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:g}=await q();t.errors=u,c=g}else await Q(i);if(f.disabled.size)for(const u of f.disabled)V(c,u,void 0);if(C(t.errors,"root"),j(t.errors)){m.state.next({errors:{}});try{await s(c,l)}catch(u){y=u}}else a&&await a({...t.errors},l),Ie(),setTimeout(Ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Dt=(s,a={})=>{h(i,s)&&(N(a.defaultValue)?G(s,T(h(o,s))):(G(s,a.defaultValue),V(o,s,T(a.defaultValue))),a.keepTouched||C(t.touchedFields,s),a.keepDirty||(C(t.dirtyFields,s),t.isDirty=a.defaultValue?b(s,T(h(o,s))):b()),a.keepError||(C(t.errors,s),w.isValid&&K()),m.state.next({...t}))},qe=(s,a={})=>{const l=s?T(s):o,y=T(l),c=j(s),u=c?o:y;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(oe(o,n))]);for(const x of Array.from(g))h(t.dirtyFields,x)?V(u,x,h(n,x)):G(x,h(u,x))}else{if(Ce&&N(s))for(const g of f.mount){const x=h(i,g);if(x&&x._f){const p=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(me(p)){const O=p.closest("form");if(O){O.reset();break}}}}for(const g of f.mount)G(g,h(u,g))}n=T(u),m.array.next({values:{...u}}),m.state.next({values:{...u}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!w.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?oe(o,n):t.dirtyFields:a.keepDefaultValues&&s?oe(o,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},We=(s,a)=>qe(B(s)?s(n):s,a),Et=(s,a={})=>{const l=h(i,s),y=l&&l._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&B(c.select)&&c.select())}},St=s=>{t={...t,...s}},$e={control:{register:De,unregister:Ae,getFieldState:Re,handleSubmit:Be,setError:Me,_subscribe:Ue,_runSchema:q,_getWatch:E,_getDirty:b,_setValid:K,_setFieldArray:Y,_setDisabledField:Pe,_setErrors:L,_getFieldArray:U,_reset:qe,_resetDefaultValues:()=>B(r.defaultValues)&&r.defaultValues().then(s=>{We(s,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:At,_subjects:m,_proxyFormState:w,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(s){d=s},get _defaultValues(){return o},get _names(){return f},set _names(s){f=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ft,trigger:Fe,register:De,handleSubmit:Be,watch:wt,setValue:G,getValues:je,reset:We,resetField:Dt,clearErrors:Vt,unregister:Ae,setError:Me,setFocus:Et,getFieldState:Re};return{...$e,formControl:$e}}function rr(e={}){const r=$.useRef(void 0),t=$.useRef(void 0),[i,o]=$.useState({isDirty:!1,isValidating:!1,isLoading:B(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:B(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:tr(e),formState:i},e.formControl&&e.defaultValues&&!B(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const n=r.current.control;return n._options=e,Bt(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),n._formState.isReady=!0,d},[n]),$.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),$.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode),e.errors&&!j(e.errors)&&n._setErrors(e.errors)},[n,e.errors,e.mode,e.reValidateMode]),$.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),$.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),$.useEffect(()=>{e.values&&!ee(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),$.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=It(i,n),r.current}const lt=(e,r,t)=>{if(e&&"reportValidity"in e){const i=h(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},xt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?lt(i.ref,t,e):i&&i.refs&&i.refs.forEach(o=>lt(o,t,e))}},sr=(e,r)=>{r.shouldUseNativeValidation&&xt(e,r);const t={};for(const i in e){const o=h(r.fields,i),n=Object.assign(e[i]||{},{ref:o&&o.ref});if(ir(r.names||Object.keys(e),i)){const d=Object.assign({},h(t,i));V(d,"root",n),V(t,i,d)}else V(t,i,n)}return t},ir=(e,r)=>{const t=ot(r);return e.some(i=>ot(i).match(`^${t}\\.\\d+`))};function ot(e){return e.replace(/\]|\[/g,"")}function ar(e,r){for(var t={};e.length;){var i=e[0],o=i.code,n=i.message,d=i.path.join(".");if(!t[d])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];t[d]={message:f.message,type:f.code}}else t[d]={message:n,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(w){return w.errors.forEach(function(D){return e.push(D)})}),r){var A=t[d].types,k=A&&A[i.code];t[d]=ft(d,r,t,o,k?[].concat(k,i.message):i.message)}e.shift()}return t}function nr(e,r,t){return t===void 0&&(t={}),function(i,o,n){try{return Promise.resolve(function(d,f){try{var A=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(k){return n.shouldUseNativeValidation&&xt({},n),{errors:{},values:t.raw?Object.assign({},i):k}})}catch(k){return f(k)}return A&&A.then?A.then(void 0,f):A}(0,function(d){if(function(f){return Array.isArray(f==null?void 0:f.errors)}(d))return{values:{},errors:sr(ar(d.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw d}))}catch(d){return Promise.reject(d)}}}function lr({className:e,...r}){return F.jsx("div",{"data-slot":"card",className:se("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function or({className:e,...r}){return F.jsx("div",{"data-slot":"card-header",className:se("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function ur({className:e,...r}){return F.jsx("div",{"data-slot":"card-title",className:se("leading-none font-semibold",e),...r})}function dr({className:e,...r}){return F.jsx("div",{"data-slot":"card-description",className:se("text-muted-foreground text-sm",e),...r})}function cr({className:e,...r}){return F.jsx("div",{"data-slot":"card-content",className:se("px-6",e),...r})}function fr({className:e,...r}){return F.jsx("div",{"data-slot":"card-footer",className:se("flex items-center px-6 [.border-t]:pt-6",e),...r})}var yr="Label",_t=ve.forwardRef((e,r)=>F.jsx(Ot.label,{...e,ref:r,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));_t.displayName=yr;var hr=_t;function ut({className:e,...r}){return F.jsx(hr,{"data-slot":"label",className:se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vr=Tt("loader-circle",gr),mr=ke.object({email:ke.string().email("Please enter a valid email"),password:ke.string().min(5,"Password must be at least 5 characters")}),wr=function(){const r=Ct(),[t,i]=ve.useState(!1),o=Lt({from:"/login"}),{register:n,handleSubmit:d,formState:{errors:f}}=rr({resolver:nr(mr)}),A=async k=>{try{i(!0),await r.login(k.email,k.password),Ye("Success",{description:"You have been logged in successfully"}),o({to:"/app/dashboard"})}catch{Ye.error("Error",{description:"Invalid email or password"})}finally{i(!1)}};return F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:F.jsxs(lr,{className:"w-full max-w-md",children:[F.jsxs(or,{className:"space-y-1",children:[F.jsx(ur,{className:"text-2xl font-bold",children:"Login"}),F.jsx(dr,{children:"Enter your email and password to access your account"})]}),F.jsxs("form",{onSubmit:d(A),children:[F.jsxs(cr,{className:"space-y-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(ut,{htmlFor:"email",children:"Email"}),F.jsx(Ke,{id:"email",type:"email",placeholder:"Enter your email",...n("email")}),f.email&&F.jsx("p",{className:"text-sm text-destructive",children:f.email.message})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(ut,{htmlFor:"password",children:"Password"}),F.jsx(Ke,{id:"password",type:"password",placeholder:"Enter your password",...n("password")}),f.password&&F.jsx("p",{className:"text-sm text-destructive",children:f.password.message})]})]}),F.jsx(fr,{children:F.jsxs(jt,{className:"w-full mt-4",type:"submit",disabled:t,children:[t&&F.jsx(vr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})})]})]})})};export{wr as component};
